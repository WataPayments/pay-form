"use strict";(self.webpackChunkpay=self.webpackChunkpay||[]).push([[394],{394:(e,s,t)=>{t.d(s,{ResultPage:()=>v});var a=t(9950),c=t(5055),i=t(61);const n=t.p+"static/media/SuccessPay.ee218e5a9cf521267a725d0ec11320a8.svg";const l=t.p+"static/media/PendingPay.632ab4ab4adc51ccfe344ee4461f497a.svg";const r=t.p+"static/media/RefundedPay.599a52fefb146725ce6592b2f9dcda9d.svg";const o=t.p+"static/media/FailPay.cf576ead76500627fe070dbadae9f94e.svg";var d=t(7818),u=t(9486),p=t(4244),g=t.n(p),h=t(7474),m=t(2091),f=t(4414);const x=e=>({Paid:{title:e("result_page-paid"),icon:n},Pending:{title:e("result_page-pending"),icon:l},Expired:{title:e("result_page-expired"),icon:l},Refunded:{title:e("result_page-refunded"),icon:r},Failed:{title:e("result_page-failed"),icon:o},Created:{title:"",icon:""}}),v=()=>{const e=(0,a.useContext)(u.Dx),[s,t]=(0,a.useState)(!1),{transactionData:n,loading:l}=(0,a.useContext)(u.yI),[r,o]=(0,a.useState)(5),[p,v]=(0,a.useState)(null),{t:_}=(0,d.Bd)(),j=(0,a.useMemo)((()=>{if(n)return x(_)[n.status].icon}),[n]),b=(0,a.useMemo)((()=>{if(n)return x(_)[n.status].title}),[n]);(0,a.useEffect)((()=>{if(n&&"Paid"===n.status&&n.success_url&&null===p){const e=setInterval((()=>{o((e=>e-1))}),1e3);v(e)}}),[n,p]),(0,a.useEffect)((()=>{n&&(0,m.B)("PaymentComplete_".concat(n.status.toLowerCase()),{transaction_id:n.uuid,payment_method:n.methods})}),[n]),(0,a.useEffect)((()=>{0===r&&n&&n.success_url&&(clearInterval(p),window.location.href=n.success_url)}),[r,p,n]);const y=(0,a.useMemo)((()=>_(0===r||5===r?"result_page-second1":1===r?"result_page-second2":"result_page-second3")),[r,_]);return l?(0,f.jsx)("div",{className:"loader-block ".concat(e),children:(0,f.jsx)("span",{className:"loader"})}):(0,f.jsxs)("div",{className:"result-container",style:g()()?{marginTop:"20px"}:{},children:[(0,f.jsxs)("div",{className:"result-block ".concat(e),children:[(0,f.jsxs)("div",{className:"page-title",children:[(0,f.jsx)("img",{src:j,alt:"Result-pay"}),(0,f.jsx)("p",{children:b})]}),n&&"Pending"===n.status&&(0,f.jsx)("div",{className:"pending-transaction",children:(0,f.jsx)("div",{className:"alert",children:_("result_page-pending-alert")})}),(0,f.jsx)("div",{className:"divider"}),(0,f.jsx)(h.z,{transactionData:n}),n&&"Paid"===n.status?n.success_url?(0,f.jsxs)("div",{className:"countdown",children:[_("result_page-redirect")," ",r," ",y,"..."]}):(0,f.jsxs)("div",{className:"button-container",children:[(0,f.jsx)("div",{className:"submit-button-result ".concat(e),children:(0,f.jsx)("input",{type:"button",value:_("result_page-share"),onClick:()=>{navigator.share?navigator.share({title:"Success Page",text:"I successfully paid the bill!",url:window.location.href}).then((()=>console.log("Successfully shared"))).catch((e=>console.error("Error sharing:",e))):navigator.clipboard.writeText(window.location.href).then((()=>console.log("Link copied to clipboard"))).catch((e=>console.error("Error copying link:",e))),t((e=>!e)),setTimeout((()=>{t((e=>!e))}),2e3)}})}),s&&!g()()&&(0,f.jsx)("div",{className:"tooltip",children:_("result_page-link-copied")})]}):null]}),(0,f.jsx)("div",{className:"logo ".concat(e),children:(0,f.jsx)("img",{src:"dark"===e?c.A:i.A,alt:"WATA"})})]})}}}]);